<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Selling - Home</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">


    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #E8F0F2;;
        }
        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
           
            background: #3A506B;
            padding: 10px 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        /* ðŸ”¹ Hamburger Menu */
        .menu-container {
            position: relative;
            display: inline-block;
        }
        .menu-button {
            font-size: 24px;
            background: none;
            border: none;
            color: #FFFFFF;
            cursor: pointer;
        }
        .slogan {
            color: #FFFFFF;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
            padding: 5px;
            padding-left: 30px;
            text-align: center;
        }
       
       
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 40px;
            left: 0;
            background: #5BC0BE;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            width: 160px;
            z-index: 10;
        }
        .dropdown-menu a {
            display: block;
            padding: 10px;
            text-decoration: none;
            color: #FFFFFF;
        }
        .dropdown-menu a:hover {
            background: #1C2541;
        }
        /* ðŸ”¹ Filter Button */
        .filter-container {
            margin: 10px;
        }
        .filter-button {
            padding: 9px 15px;
            background: #1C2541;
    color: #FFFFFF;
            border: none;
            cursor: pointer;
            border-radius: 100px;
            margin-top: 10px;
        }
        .filter-dropdown {
            display: none;
            position: absolute;
            background: #5BC0BE;
            border: 1px solid #3A506B;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            margin-top: 5px;
        }
        .filter-dropdown button {
            display: block;
            width: 100%;
            
            margin: 5px 5px;
            padding: 10px;
            border: none;
            background: #1C2541;
            color: #FFFFFF;
            cursor: pointer;
        }
        .filter-dropdown button:hover {
            background: #0B132B;

        }
        /* ðŸ”¹ Pet Listings */
        .pet-listings {
            display:flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            background-color: #E8F0F2;
        }
        .pet-card {
            background: #FFFFFF;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
           
            width: 200px;
            text-align: center;
        }
        .pet-card img {
            width: 100%;
            border-radius: 5px;
        }
        .pet-card h3 {
            margin: 10px 0;
        }
        .pet-card p {
            font-size: 16px;
            color: #3A506B;
            font-weight: bold;
        }
        .pet-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* Default for large screens */
    gap: 20px;
}

/* Bottom Navigation Bar */
.bottom-nav {
    position: fixed;
    height: 50px;
    bottom: 0;
    left: 0;
    width: 100%;
    cursor: pointer;
    background: #1C2541;
    border-top: 2px solid #5BC0BE;
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 10px 0;
   
}


/* Navigation Buttons */
.nav-item {
    text-decoration: none;
    font-size: 16px;
    color: #FFFFFF;

    display: flex;
    flex-direction: column;
    align-items: center;
}


.nav-item-i {
    font-size: 24px;
    margin-bottom: 5px;
    margin-right: 0px;
    padding-left: 80px;
    text-decoration: none;
    font-size: 16px;
    color: #FFFFFF;
    display: flex;
    flex-direction: column;
    align-items: center;
    
}
.nav-item{
    padding-left: 0px;
    padding-right: 80px;
}

/* Floating Add Button */
.add-btn {
    width: 80px;
    height: 70px;
    background-color:#5BC0BE;
    color: #FFFFFF;
    padding-left: 10px;
    font-size:20px;
    font-weight: bold;
    border-radius: 50%;
   
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
border: none;
    .add-btn:hover {
    background-color: #3A506B;
}

.plus {
    color: #FFFFFF;
}
   
    
   
    
    transition: transform 0.2s ease-in-out;
        }

        .add-btn:hover {
            transform: scale(1.1); /* Slight zoom effect on hover */
        }

        .plus{
            font-size: larger
        }
        .slogan{
            margin-top: -3px;
        }


        #petListings {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    padding: 20px;
  }

  .listing-card {
    border: 1px solid #ddd;
    border-radius: 10px;
    overflow: hidden;
    background: #fff;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
    text-align: center;
    transition: transform 0.3s ease-in-out;
  }

  .listing-card:hover {
    transform: scale(1.05);
  }

  .listing-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }

  .listing-info {
    padding: 15px;
  }

  .listing-info h3 {
    font-size: 18px;
    margin-bottom: 5px;
  }

  .listing-info p {
    font-size: 14px;
    color: #666;
  }
  #petListings {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  padding: 20px;
}

.listing-card {
  background: #fff;
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  text-align: center;
}

.listing-image {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 10px;
}

.listing-info h3 {
  margin: 10px 0;
  color: #333;
}

.listing-info p {
  margin: 5px 0;
  color: #666;
}

    </style>
</head>
<body>

    <div class="navbar">
        <!-- ðŸ“Œ Hamburger Menu -->
        <div class="menu-container">
            <button class="menu-button" onclick="toggleMenu()">â˜°</button>
            <div class="dropdown-menu" id="dropdownMenu">
                <a href="home.html">Home</a>
                <a href="account.html">Account Details</a>
                <a href="report.html">Report a Problem</a>
                <a href="#" onclick="logoutUser()">Logout</a>

            </div>
        </div> 

        <div style="text-align: center; margin-top: 20px;">
            <p class="slogan" style="font-size: 20px; margin-bottom: 10px;">
                Find Your Perfect Pet Companion Today!
            </p>
        
            <button id="categoryBtn" style="
                background-color:#1C2541; 
                color: white; 
                border: none; 
                padding: 12px 24px; 
                font-size: 18px; 
                border-radius: 25px;
                cursor: pointer; 
                padding:5px;
                margin-left: 30px;

                transition: 0.3s;">
                Categories â–¼
            </button>
        
            <div id="categoryDropdown" style="
                display: none; 
                background:#5BC0BE; 
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); 
                border-radius: 5px; 
                padding: 10px; 
                position: absolute; 
              
                left: 50%; 
                transform: translateX(-50%); 
                width: 200px; 
                text-align: left;">
                <a href="#" style="display: block; padding: 8px 12px; text-decoration: none; color: rgb(255, 255, 255);">Dogs</a>
                <a href="#" style="display: block; padding: 8px 12px; text-decoration: none; color: rgb(255, 255, 255);">Cats</a>
                <a href="#" style="display: block; padding: 8px 12px; text-decoration: none; color: rgb(255, 255, 255);">Goat</a>
                <a href="#" style="display: block; padding: 8px 12px; text-decoration: none; color: rgb(254, 254, 254);">Other</a>
            </div>
        </div>
        
        <script>
            const categoryBtn = document.getElementById('categoryBtn');
            const categoryDropdown = document.getElementById('categoryDropdown');
        
            categoryBtn.addEventListener('click', () => {
                if (categoryDropdown.style.display === 'none') {
                    categoryDropdown.style.display = 'block';
                } else {
                    categoryDropdown.style.display = 'none';
                }
            });
        
            // Close dropdown if clicked outside
            window.addEventListener('click', (e) => {
                if (!categoryBtn.contains(e.target) && !categoryDropdown.contains(e.target)) {
                    categoryDropdown.style.display = 'none';
                }
            });
        </script>
        
        
        

       
        <!-- ðŸ“Œ Filter Button -->
        <div class="filter-container">
            <button class="filter-button" onclick="toggleFilter()">Filter â–¼</button>
            <div class="filter-dropdown" id="filterDropdown">
                <button onclick="sortPets('lowToHigh')">Price: Low to High</button>
                <button onclick="sortPets('highToLow')">Price: High to Low</button>
            </div>
        </div>
    </div>

    <!-- ðŸ“Œ Pet Listings -->
    <div class="pet-listings" id="petListings"></div>
    <!-- Bottom Navigation Bar -->
<!-- Bottom Navigation Bar -->
<div class="bottom-nav">
    <!-- Ad Button (Left) -->
    <a href="ads.html" class="nav-item">
        <span class="material-icons-outlined">campaign</span> <!-- Ad Icon -->
        <span>My Ads</span>
    </a>

    <!-- Floating Add Button (Center) -->
<button class="add-btn" onclick="window.location.href='sell.html';">
    <p class="plus">+<br><b>Sell</b></p>
</button>



    
    <!-- Messages Button (Right) -->
    <a href="messages.html" class="nav-item-i ">
        <span class="material-icons-outlined">mail_outline</span> <!-- Messages Icon -->
        <span>Chats</span>
    </a>
</div>



    <script>
        // ðŸ“Œ Toggle Hamburger Menu
        function toggleMenu() {
            const menu = document.getElementById("dropdownMenu");
            menu.style.display = (menu.style.display === "block") ? "none" : "block";
        }
        // ðŸ“Œ Close the menu when clicking outside
        window.onclick = function(event) {
            if (!event.target.matches('.menu-button')) {
                document.getElementById("dropdownMenu").style.display = "none";
            }
        }

        // ðŸ“Œ Toggle Filter Dropdown
        function toggleFilter() {
            const filterMenu = document.getElementById("filterDropdown");
            filterMenu.style.display = (filterMenu.style.display === "block") ? "none" : "block";
        }
        // ðŸ“Œ Logout Function
function logoutUser() {
    // Remove user data from local storage
    localStorage.removeItem("user");
    sessionStorage.removeItem("user");

    // Redirect to login page
    window.location.href = "index.html";
}


        // ðŸ“Œ Sort Pets by Price
        function sortPets(order) {
            let petContainer = document.getElementById("petListings");
            let pets = Array.from(petContainer.getElementsByClassName("pet-card"));

            pets.sort((a, b) => {
                let priceA = parseInt(a.getAttribute("data-price"));
                let priceB = parseInt(b.getAttribute("data-price"));

                return order === "lowToHigh" ? priceA - priceB : priceB - priceA;
            });

            // Reorder the pet listings
            petContainer.innerHTML = "";
            pets.forEach(pet => petContainer.appendChild(pet));

            // Close the filter dropdown
            document.getElementById("filterDropdown").style.display = "none";
        }
        async function fetchListings() {
  try {
    const response = await fetch("https://backend-petdealz.onrender.com/get-listings");
    const listings = await response.json();

    const listingContainer = document.getElementById("petListings");
    listingContainer.innerHTML = ""; // Clear old listings

    listings.forEach(listing => {
      const imageUrl = listing.media && listing.media.length > 0
        ? `https://backend-petdealz.onrender.com/image/${listing.media[0]}`
        : 'default.jpg'; // Fallback image

      const listingElement = document.createElement("div");
      listingElement.classList.add("listing-card");

      listingElement.innerHTML = `
        <img src="${imageUrl}" alt="Pet Image" class="listing-image">
        <div class="listing-info">
          <h3>${listing.title}</h3>
          <p>${listing.description}</p>
          <p><strong>Location:</strong> ${listing.location}</p>
          <p><strong>Price:</strong> $${listing.price}</p>
        </div>
      `;

      listingContainer.appendChild(listingElement);
    });
  } catch (error) {
    console.error("Error fetching listings:", error);
  }
}



    </script>

</body>
</html>
